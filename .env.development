# PolicyCortex Development Environment Configuration
# This file contains configuration for local development
# Safe to commit (no sensitive production values)

# ============================================================
# ENVIRONMENT CONFIGURATION
# ============================================================
NODE_ENV=development
ENVIRONMENT=development
DEPLOYMENT_ENVIRONMENT=development

# ============================================================
# AZURE CONFIGURATION (Development)
# ============================================================

# Azure Tenant and Subscription (Development)
AZURE_TENANT_ID=9ef5b184-d371-462a-bc75-5024ce8baff7
AZURE_CLIENT_ID=1ecc95d1-e5bb-43e2-9324-30a17cb6b01c
AZURE_SUBSCRIPTION_ID=205b477d-17e7-4b3b-92c1-32cf02626b78

# Azure Container Registry (Development)
ACR_NAME=crpcxdev
ACR_LOGIN_SERVER=crpcxdev.azurecr.io

# Azure Kubernetes Service (Development)
AKS_CLUSTER_NAME=pcx42178531-aks
AKS_RESOURCE_GROUP=pcx42178531-rg

# Azure Authentication (Development)
USE_MANAGED_IDENTITY=false
AZURE_CLIENT_SECRET=${AZURE_CLIENT_SECRET}

# ============================================================
# APPLICATION URLS (Development)
# ============================================================
NEXT_PUBLIC_APP_URL=http://localhost:3005
NEXT_PUBLIC_API_URL=http://localhost:8085
NEXT_PUBLIC_GRAPHQL_URL=http://localhost:4001/graphql
NEXT_PUBLIC_WEBSOCKET_URL=ws://localhost:8080/ws

# Internal service URLs (Docker Compose)
BACKEND_SERVICE_URL=http://backend:8080
GRAPHQL_SERVICE_URL=http://graphql:4000
API_GATEWAY_URL=http://api-gateway:8090

# Legacy URLs for backward compatibility
CORE_SERVICE_URL=http://localhost:8080
FRONTEND_URL=http://localhost:3000

# ============================================================
# AZURE AD / MSAL CONFIGURATION (Development)
# ============================================================
NEXT_PUBLIC_AZURE_CLIENT_ID=1ecc95d1-e5bb-43e2-9324-30a17cb6b01c
NEXT_PUBLIC_AZURE_TENANT_ID=9ef5b184-d371-462a-bc75-5024ce8baff7
NEXT_PUBLIC_AZURE_SUBSCRIPTION_ID=205b477d-17e7-4b3b-92c1-32cf02626b78
NEXT_PUBLIC_AZURE_AUTHORITY=https://login.microsoftonline.com/9ef5b184-d371-462a-bc75-5024ce8baff7

# MSAL Redirect URIs (Development)
NEXT_PUBLIC_MSAL_REDIRECT_URI=http://localhost:3005
NEXT_PUBLIC_MSAL_POST_LOGOUT_REDIRECT_URI=http://localhost:3005/logout
NEXT_PUBLIC_CORE_API_SCOPE=api://policycortex-dev/.default

# Authentication Configuration (Relaxed for development)
REQUIRE_STRICT_AUDIENCE=false
REQUIRE_AUTH=false
JWT_ISSUER=https://login.microsoftonline.com/9ef5b184-d371-462a-bc75-5024ce8baff7/v2.0
JWT_AUDIENCE=api://policycortex-dev

# ============================================================
# DATABASE CONFIGURATION (Development)
# ============================================================

# PostgreSQL (Local Docker)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/policycortex
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=policycortex
DATABASE_USER=postgres
DATABASE_PASSWORD=postgres
DATABASE_SSL_MODE=disable
DATABASE_MAX_CONNECTIONS=10
DATABASE_IDLE_TIMEOUT=30000

# Connection pooling (smaller for development)
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_POOL_IDLE_TIMEOUT_MS=30000
DATABASE_POOL_CONNECTION_TIMEOUT_MS=5000
CONNECTION_POOL_SIZE=20

# ============================================================
# CACHE CONFIGURATION (Development)
# ============================================================

# Redis/DragonflyDB (Local Docker)
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TLS=false
REDIS_DB=0
REDIS_KEY_PREFIX=policycortex:dev:
REDIS_TTL_DEFAULT=1800
REDIS_MAX_RETRIES=3

# Cache settings (smaller for development)
CACHE_DEFAULT_TTL=1800
CACHE_MAX_SIZE=100000
ENABLE_REDIS_CLUSTER=false
ENABLE_CACHE=true
CACHE_TTL_SECONDS=300

# ============================================================
# SECURITY CONFIGURATION (Development)
# ============================================================

# JWT Configuration (Development - less secure)
JWT_SECRET=dev-jwt-secret-not-for-production-use-only
JWT_SECRET_KEY=dev-secret-key-change-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
JWT_ALGORITHM=HS256

# Encryption keys (Development only)
ENCRYPTION_KEY=dev-encryption-key-not-for-production
SIGNING_KEY=dev-signing-key-not-for-production

# CORS Configuration (Permissive for development)
CORS_ORIGIN=http://localhost:3000,http://localhost:3005,http://localhost:3010
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,X-Tenant-ID
CORS_CREDENTIALS=true

# Rate limiting (Relaxed for development)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=10000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# ============================================================
# FEATURE FLAGS (Development - Everything Enabled)
# ============================================================

# Core features
ENABLE_LIVE_DATA=true
ENABLE_AZURE_INTEGRATION=true
ENABLE_WEBSOCKET=true
ENABLE_REALTIME_UPDATES=true
USE_REAL_AZURE=true
USE_REAL_DATA=true
ENABLE_REAL_AZURE_DATA=true

# Patent features
ENABLE_CROSS_DOMAIN_CORRELATION=true
ENABLE_CONVERSATIONAL_AI=true
ENABLE_UNIFIED_PLATFORM=true
ENABLE_PREDICTIVE_COMPLIANCE=true

# Advanced features
ENABLE_ML_FEATURES=true
ENABLE_AUTO_REMEDIATION=false
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_CUSTOM_POLICIES=true

# UI features
ENABLE_DARK_MODE=true
ENABLE_THEME_TOGGLE=true
ENABLE_ACCESSIBILITY_MODE=true
ENABLE_PWA=false

# Development features (Enabled for development)
ENABLE_HOT_RELOAD=true
ENABLE_DEV_TOOLS=true
ENABLE_MOCK_DATA=true
ENABLE_TEST_ROUTES=true

# Performance features
ENABLE_COMPRESSION=true
ENABLE_CIRCUIT_BREAKER=true

# ============================================================
# LOGGING & MONITORING
# ============================================================

# Logging configuration (Verbose for development)
LOG_LEVEL=debug
RUST_LOG=debug,azure_core=debug
VERBOSE_LOGGING=true
ENABLE_REQUEST_LOGGING=true
ENABLE_ERROR_TRACKING=true

# ============================================================
# PERFORMANCE CONFIGURATION (Development)
# ============================================================

# Performance Settings
MAX_CONCURRENT_REQUESTS=50
REQUEST_TIMEOUT_MS=30000
MAX_REQUEST_SIZE=50mb
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=66000

# ============================================================
# RUNTIME CONFIGURATION
# ============================================================

# Server configuration
PORT=8080
HOST=0.0.0.0
BIND_ADDRESS=0.0.0.0
SERVICE_NAME=policycortex

# Development secrets (Safe for development only)
JWT_SECRET_DEV=development-jwt-secret-not-for-production
DATABASE_PASSWORD_DEV=postgres
WEBHOOK_SECRET_DEV=dev-webhook-secret-not-secure

# Legacy environment variable for Next.js
NEXT_PUBLIC_ENVIRONMENT=development