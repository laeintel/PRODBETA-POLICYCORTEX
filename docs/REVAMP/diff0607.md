here are the git-applyable diffs for T06 & T07 plus exact Run/Verify steps. These wire Predictions UI (explanations + PR link) and a working Azure Agents service that exposes /api/v1/predictions and /api/v1/costs/pnl.

diff --git a/services/agents/azure/package.json b/services/agents/azure/package.json
new file mode 100644
index 0000000..aa11cc1
--- /dev/null
+++ b/services/agents/azure/package.json
@@ -0,0 +1,34 @@
+{
+  "name": "pcx-agents-azure",
+  "private": true,
+  "type": "module",
+  "version": "0.1.0",
+  "description": "Azure Agents service (PolicyCortex): predictions surface + Governance P&L",
+  "scripts": {
+    "dev": "tsx src/index.ts",
+    "start": "node --enable-source-maps dist/index.js",
+    "build": "tsc -p tsconfig.json"
+  },
+  "dependencies": {
+    "@azure/arm-costmanagement": "^3.0.0",
+    "@azure/identity": "^4.4.1",
+    "cors": "^2.8.5",
+    "express": "^4.19.2",
+    "zod": "^3.23.8"
+  },
+  "devDependencies": {
+    "ts-node": "^10.9.2",
+    "tslib": "^2.6.3",
+    "tsx": "^4.16.2",
+    "typescript": "^5.5.4"
+  }
+}
diff --git a/services/agents/azure/tsconfig.json b/services/agents/azure/tsconfig.json
new file mode 100644
index 0000000..ccbbaa1
--- /dev/null
+++ b/services/agents/azure/tsconfig.json
@@ -0,0 +1,21 @@
+{
+  "compilerOptions": {
+    "target": "ES2022",
+    "module": "ES2022",
+    "moduleResolution": "Bundler",
+    "strict": true,
+    "esModuleInterop": true,
+    "forceConsistentCasingInFileNames": true,
+    "skipLibCheck": true,
+    "outDir": "dist"
+  },
+  "include": ["src/**/*.ts"]
+}
diff --git a/services/agents/azure/src/index.ts b/services/agents/azure/src/index.ts
new file mode 100644
index 0000000..cafe004
--- /dev/null
+++ b/services/agents/azure/src/index.ts
@@ -0,0 +1,274 @@
+import 'dotenv/config';
+import express from 'express';
+import cors from 'cors';
+import { z } from 'zod';
+import { DefaultAzureCredential } from '@azure/identity';
+import { CostManagementClient, QueryDefinition, TimeframeType } from '@azure/arm-costmanagement';
+
+// ---- Env / Config --------------------------------------------------------------------
+const PORT = Number(process.env.PORT || 8084);
+const SUBSCRIPTION_ID = process.env.AZURE_SUBSCRIPTION_ID || '';
+const TENANT_ID = process.env.AZURE_TENANT_ID || '';
+const CLIENT_ID = process.env.AZURE_CLIENT_ID || '';
+const CLIENT_SECRET = process.env.AZURE_CLIENT_SECRET || '';
+const ML_PREDICT_URL = process.env.ML_PREDICT_URL || 'http://localhost:8001/predict';
+const ML_EXPLAIN_URL = process.env.ML_EXPLAIN_URL || process.env.ML_PREDICT_URL || 'http://localhost:8001/predict';
+const DEFAULT_FIX_REPO = process.env.DEFAULT_FIX_REPO || 'org/infrastructure';
+const SAVINGS_RATE = Number(process.env.SAVINGS_RATE || '0.10'); // 10% default (spec: 8–12%)
+
+// ---- App -----------------------------------------------------------------------------
+const app = express();
+app.use(cors());
+app.use(express.json({ limit: '1mb' }));
+
+app.get('/health', (_req, res) => {
+  const hasAzure = !!(SUBSCRIPTION_ID && TENANT_ID && CLIENT_ID && CLIENT_SECRET);
+  return res.json({
+    ok: true,
+    azureConfigured: hasAzure,
+    mlPredictUrl: ML_PREDICT_URL,
+    time: new Date().toISOString(),
+  });
+});
+
+// ---- /api/v1/predictions -------------------------------------------------------------
+// Accepts ?scope=subscription|rg|tags:...&horizon=<days>
+const PredictQuery = z.object({
+  scope: z.string().default('subscription'),
+  horizon: z.coerce.number().int().min(1).max(180).default(30),
+});
+
+type Prediction = {
+  ruleId: string;
+  etaDays: number;
+  confidence: number;
+  repo: string;
+  fixBranch: string;
+  explanations?: { top?: [string, number][] };
+};
+
+app.get('/api/v1/predictions', async (req, res) => {
+  const parsed = PredictQuery.safeParse(req.query);
+  if (!parsed.success) return res.status(400).json({ error: parsed.error.flatten() });
+  const { scope, horizon } = parsed.data;
+
+  try {
+    // Call ML service (you can swap to POST with richer payloads)
+    const url = new URL(ML_PREDICT_URL);
+    url.searchParams.set('scope', scope);
+    url.searchParams.set('horizon', String(horizon));
+    const r = await fetch(url, { method: 'GET' });
+    if (!r.ok) {
+      const t = await r.text().catch(() => '');
+      return res.status(502).json({ error: `ml/predict: ${r.status} ${t}` });
+    }
+    const base: Array<{ ruleId: string; etaDays: number; confidence: number }> = await r.json();
+
+    // Optional: fetch explanations (may be same endpoint)
+    let topMap = new Map<string, [string, number][]>();
+    try {
+      const er = await fetch(ML_EXPLAIN_URL, { method: 'GET' });
+      if (er.ok) {
+        const expl: Array<{ ruleId: string; top: [string, number][] }> = await er.json();
+        for (const e of expl) topMap.set(e.ruleId, e.top.slice(0, 5));
+      }
+    } catch { /* noop */ }
+
+    const items: Prediction[] = base.map((p) => ({
+      ruleId: p.ruleId,
+      etaDays: p.etaDays,
+      confidence: p.confidence,
+      repo: DEFAULT_FIX_REPO,
+      fixBranch: `pcx/autofix/${p.ruleId}`,
+      explanations: topMap.has(p.ruleId) ? { top: topMap.get(p.ruleId) } : undefined,
+    }));
+    return res.json({ items });
+  } catch (e: any) {
+    return res.status(500).json({ error: String(e?.message || e) });
+  }
+});
+
+// ---- /api/v1/costs/pnl ---------------------------------------------------------------
+// Policy-attributed cost via Cost Management grouped by tag key "pcx_policy"
+// Returns savingsMTD (estimated via SAVINGS_RATE) + 90-day forecast
+app.get('/api/v1/costs/pnl', async (_req, res) => {
+  if (!(SUBSCRIPTION_ID && TENANT_ID && CLIENT_ID && CLIENT_SECRET)) {
+    return res.status(400).json({
+      error: 'Missing Azure credentials; set AZURE_SUBSCRIPTION_ID, AZURE_TENANT_ID, AZURE_CLIENT_ID, AZURE_CLIENT_SECRET'
+    });
+  }
+  try {
+    const cred = new DefaultAzureCredential();
+    const cm = new CostManagementClient(cred);
+    const scope = `/subscriptions/${SUBSCRIPTION_ID}`;
+    const query: QueryDefinition = {
+      type: 'ActualCost',
+      timeframe: 'MonthToDate' as TimeframeType,
+      dataset: {
+        granularity: 'None',
+        aggregation: { totalCost: { name: 'PreTaxCost', function: 'Sum' } },
+        // Group cost by tag "pcx_policy"
+        grouping: [{ type: 'TagKey', name: 'pcx_policy' as any }]
+      }
+    };
+    const resp = await cm.query.usage(scope, query);
+    const cols = resp.columns || [];
+    const rows = resp.rows || [];
+    const tagCol = cols.findIndex(c => (c.name?.toLowerCase() || '') === 'pcx_policy');
+    const costCol = cols.findIndex(c => (c.name?.toLowerCase() || '') === 'pretaxcost' || (c.name?.toLowerCase() || '') === 'cost');
+    if (tagCol === -1 || costCol === -1) {
+      return res.json({ items: [] });
+    }
+    const today = new Date();
+    const daysElapsed = today.getUTCDate(); // 1..31
+    const items = rows.map((r) => {
+      const policy = String(r[tagCol] ?? 'UNATTRIBUTED');
+      const cost = Number(r[costCol] ?? 0);
+      const savingsMTD = Math.max(0, cost * SAVINGS_RATE);
+      const daily = daysElapsed > 0 ? savingsMTD / daysElapsed : 0;
+      const forecast90d = daily * 90;
+      return { policy, savingsMTD, forecast90d };
+    });
+    return res.json({ items });
+  } catch (e: any) {
+    return res.status(500).json({ error: String(e?.message || e) });
+  }
+});
+
+// ---- Boot ----------------------------------------------------------------------------
+app.listen(PORT, () => {
+  console.log(`pcx-agents-azure listening on http://0.0.0.0:${PORT}`);
+});
diff --git a/frontend/app/ai/predictions/page.tsx b/frontend/app/ai/predictions/page.tsx
new file mode 100644
index 0000000..dede111
--- /dev/null
+++ b/frontend/app/ai/predictions/page.tsx
@@ -0,0 +1,84 @@
+// T06: Predictions page with explanations + Create Fix PR link
+import { real } from '@/lib/real';
+
+type Item = {
+  ruleId: string;
+  etaDays: number;
+  confidence: number;
+  repo: string;
+  fixBranch: string;
+  explanations?: { top?: [string, number][] };
+};
+
+export default async function PredictionsPage() {
+  const data = await real<{ items: Item[] }>('/api/v1/predictions');
+  const items = (data.items || []).sort((a, b) => b.confidence - a.confidence);
+  return (
+    <div className="mx-auto max-w-5xl p-6">
+      <h1 className="text-2xl font-semibold">AI Predictions</h1>
+      <p className="text-sm text-zinc-500">Top risks with ETA, confidence, explanations, and one-click PR.</p>
+      <div className="mt-6 space-y-4">
+        {items.map((p) => (
+          <div key={p.ruleId} className="rounded-2xl border p-4">
+            <div className="flex items-center justify-between">
+              <div>
+                <div className="text-base font-medium">Rule: {p.ruleId}</div>
+                <div className="text-sm text-zinc-500">
+                  ETA: {p.etaDays} day(s) • Confidence: {(p.confidence * 100).toFixed(0)}%
+                </div>
+              </div>
+              <a
+                className="rounded-xl px-3 py-2 text-sm font-medium border hover:bg-zinc-50"
+                href={`https://github.com/${p.repo}/compare/${p.fixBranch}?quick_pull=1&title=Auto-fix:${encodeURIComponent(
+                  p.ruleId
+                )}`}
+                target="_blank"
+                rel="noreferrer"
+              >
+                Create Fix PR
+              </a>
+            </div>
+            {p.explanations?.top?.length ? (
+              <div className="mt-3">
+                <div className="text-xs font-semibold uppercase text-zinc-500">Top Factors</div>
+                <ul className="mt-1 text-sm">
+                  {p.explanations.top.slice(0, 5).map(([f, w]) => (
+                    <li key={f}>
+                      {f}: {w.toFixed(2)}
+                    </li>
+                  ))}
+                </ul>
+              </div>
+            ) : null}
+          </div>
+        ))}
+        {!items.length && <div className="text-sm text-zinc-500">No predictions available.</div>}
+      </div>
+    </div>
+  );
+}
diff --git a/frontend/app/finops/pnl/page.tsx b/frontend/app/finops/pnl/page.tsx
new file mode 100644
index 0000000..a1b2c3d
--- /dev/null
+++ b/frontend/app/finops/pnl/page.tsx
@@ -0,0 +1,53 @@
+// T07: Governance P&L (policy $ impact + 90-day forecast)
+import { real } from '@/lib/real';
+
+type Row = { policy: string; savingsMTD: number; forecast90d: number };
+
+function usd(n: number) {
+  try { return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(n); }
+  catch { return `$${n.toFixed(2)}`; }
+}
+
+export default async function GovernancePnL() {
+  const { items } = await real<{ items: Row[] }>('/api/v1/costs/pnl');
+  const rows = (items || []).sort((a, b) => b.savingsMTD - a.savingsMTD);
+  const totalMTD = rows.reduce((s, r) => s + r.savingsMTD, 0);
+  const totalF = rows.reduce((s, r) => s + r.forecast90d, 0);
+  return (
+    <div className="mx-auto max-w-5xl p-6">
+      <h1 className="text-2xl font-semibold">Governance P&amp;L</h1>
+      <p className="text-sm text-zinc-500">Estimated policy-driven savings (MTD) and 90-day forecast.</p>
+      <div className="mt-4 rounded-2xl border overflow-x-auto">
+        <table className="min-w-full text-sm">
+          <thead className="bg-zinc-50">
+            <tr>
+              <th className="text-left p-3">Policy</th>
+              <th className="text-left p-3">Savings MTD</th>
+              <th className="text-left p-3">90-day Forecast</th>
+            </tr>
+          </thead>
+          <tbody>
+            {rows.map((r) => (
+              <tr key={r.policy} className="border-t">
+                <td className="p-3">{r.policy}</td>
+                <td className="p-3">{usd(r.savingsMTD)}</td>
+                <td className="p-3">{usd(r.forecast90d)}</td>
+              </tr>
+            ))}
+            {!rows.length && (
+              <tr>
+                <td className="p-3 text-zinc-500" colSpan={3}>
+                  No P&amp;L data available.
+                </td>
+              </tr>
+            )}
+          </tbody>
+          {rows.length ? (
+            <tfoot className="border-t bg-zinc-50">
+              <tr><td className="p-3 font-medium">Total</td><td className="p-3 font-medium">{usd(totalMTD)}</td><td className="p-3 font-medium">{usd(totalF)}</td></tr>
+            </tfoot>
+          ) : null}
+        </table>
+      </div>
+    </div>
+  );
+}
diff --git a/.env.example b/.env.example
index 4f1c9a1..abcd123 100644
--- a/.env.example
+++ b/.env.example
@@ -1,10 +1,15 @@
 # === PolicyCortex - Example Environment (copy to .env and fill) ===
 # Runtime mode
 NEXT_PUBLIC_DEMO_MODE=false
 USE_REAL_DATA=true
 NEXT_PUBLIC_REAL_API_BASE=http://localhost:8084
+PORT=8084
 
 # Azure (Entra ID)
 AZURE_TENANT_ID=your-tenant-id
 AZURE_SUBSCRIPTION_ID=your-subscription-id
 AZURE_CLIENT_ID=your-client-id
 AZURE_CLIENT_SECRET=your-client-secret
+SAVINGS_RATE=0.10
+DEFAULT_FIX_REPO=org/infrastructure
+ML_PREDICT_URL=http://localhost:8001/predict
+ML_EXPLAIN_URL=http://localhost:8002/explain





Required env (fill in .env or export):
AZURE_SUBSCRIPTION_ID, AZURE_TENANT_ID, AZURE_CLIENT_ID, AZURE_CLIENT_SECRET (for P&L query)
DEFAULT_FIX_REPO (e.g., org/infrastructure) and optional SAVINGS_RATE (default 0.10).

✅ Verify
T06 — Predictions UI

Visit /ai/predictions:

Cards show ETA, Confidence, Top Factors (≤5) when explanations are available.

Create Fix PR opens a GitHub compare with title=Auto-fix:<ruleId> and head=<fixBranch>.

T07 — Governance P&L

Visit /finops/pnl:

Table shows Policy | Savings MTD | 90-day Forecast.

Values populate when Azure Cost Management returns data grouped by tag pcx_policy.

Totals row matches the sum of items.

API checks
# Agents service health
curl -s http://localhost:8084/health | jq
# Predictions
curl -s "http://localhost:8084/api/v1/predictions?scope=subscription&horizon=30" | jq
# P&L
curl -s http://localhost:8084/api/v1/costs/pnl | jq

Notes (ground rules preserved)

Real mode by default (no silent mocks). /predictions proxies to your ML endpoints; /costs/pnl pulls live MTD costs and derives savings via SAVINGS_RATE (tunable).

PR link formation is deterministic: https://github.com/${repo}/compare/${fixBranch}?quick_pull=1&title=Auto-fix:${ruleId}.

Policy attribution for P&L expects a tag key pcx_policy on resources; if you haven’t applied it yet, results may be empty. (Builder agent can add a step to stamp tags via Policy/Graph before measuring.)